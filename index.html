<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T·∫°o H√¨nh ·∫¢nh t·ª´ VƒÉn B·∫£n - Gemini AI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé® T·∫°o M√¥ T·∫£ Chi Ti·∫øt Cho AI</h1>
            <p>S·ª≠ d·ª•ng Google Gemini AI mi·ªÖn ph√≠ ƒë·ªÉ t·∫°o m√¥ t·∫£ chi ti·∫øt cho AI Art v√† Video</p>
        </header>

        <!-- Navigation Tabs -->
        <nav class="main-navigation">
            <div class="nav-tabs">
                <button class="nav-tab active" data-tab="image">üñºÔ∏è T·∫°o ·∫¢nh</button>
                <button class="nav-tab" data-tab="video">üé¨ T·∫°o Video</button>
            </div>
        </nav>

        <!-- Global API Key Section -->
        <div class="api-key-global" id="apiKeyGlobal">
            <div class="api-key-input">
                <input 
                    type="password" 
                    id="apiKey" 
                    placeholder="Nh·∫≠p API key Gemini c·ªßa b·∫°n..."
                    autocomplete="off"
                >
                <button class="api-key-save" id="apiKeySave">üíæ L∆∞u</button>
            </div>
            <small>L·∫•y API key mi·ªÖn ph√≠ t·∫°i <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
        </div>

        <!-- Image Generator Tab -->
        <main class="tab-content active" id="imageTab">
            <div class="generator-header">
                <h2>üé® T·∫°o M√¥ T·∫£ Chi Ti·∫øt Cho H√¨nh ·∫¢nh</h2>
                <p>S·ª≠ d·ª•ng AI ƒë·ªÉ t·∫°o prompt chuy√™n nghi·ªáp cho Stable Diffusion, Midjourney, DALL-E</p>
            </div>

            <div class="input-section">

                <div class="prompt-section main-prompt">
                    <label for="imagePrompt" class="prompt-label">‚ú® M√¥ t·∫£ √Ω t∆∞·ªüng h√¨nh ·∫£nh c·ªßa b·∫°n</label>
                    <textarea 
                        id="imagePrompt" 
                        class="prompt-input"
                        placeholder="V√≠ d·ª•: M·ªôt con m√®o d·ªÖ th∆∞∆°ng ƒëang ng·ªìi tr√™n c·ªè xanh d∆∞·ªõi √°nh n·∫Øng m·∫∑t tr·ªùi..."
                        rows="4"
                    ></textarea>
                </div>

                <div class="style-selection">
                    <label class="style-label">üé® Ch·ªçn phong c√°ch</label>
                    <div class="style-grid">
                        <div class="style-option" data-style="realistic">
                            <div class="style-icon">üì∑</div>
                            <span>Th·ª±c t·∫ø</span>
                        </div>
                        <div class="style-option" data-style="anime">
                            <div class="style-icon">üáØüáµ</div>
                            <span>Anime</span>
                        </div>
                        <div class="style-option" data-style="digital-art">
                            <div class="style-icon">üíª</div>
                            <span>Digital Art</span>
                        </div>
                        <div class="style-option" data-style="fantasy">
                            <div class="style-icon">üê≤</div>
                            <span>Fantasy</span>
                        </div>
                        <div class="style-option" data-style="cinematic">
                            <div class="style-icon">üé¨</div>
                            <span>Cinematic</span>
                        </div>
                        <div class="style-option" data-style="minimalist">
                            <div class="style-icon">‚ö™</div>
                            <span>T·ªëi gi·∫£n</span>
                        </div>
                    </div>
                    <input type="hidden" id="artStyle" value="realistic">
                </div>

                <button id="generateImageBtn" class="generate-btn primary">
                    <span class="btn-icon">‚ú®</span>
                    <span class="btn-text">T·∫°o M√¥ T·∫£ H√¨nh ·∫¢nh</span>
                    <span class="btn-loading" style="display: none;">
                        <span class="spinner"></span>
                        ƒêang t·∫°o...
                    </span>
                </button>

                <!-- Advanced Settings for Images -->
                <details class="advanced-settings">
                    <summary>‚öôÔ∏è C√†i ƒë·∫∑t n√¢ng cao</summary>
                    <div class="advanced-content">

                        <div class="config-grid">
                            <div class="config-item">
                                <label for="detailLevel">M·ª©c ƒë·ªô chi ti·∫øt:</label>
                                <select id="detailLevel">
                                    <option value="basic">C∆° b·∫£n</option>
                                    <option value="detailed" selected>Chi ti·∫øt</option>
                                    <option value="very-detailed">R·∫•t chi ti·∫øt</option>
                                    <option value="ultra-detailed">Si√™u chi ti·∫øt</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="aspectRatio">T·ª∑ l·ªá khung h√¨nh:</label>
                                <select id="aspectRatio">
                                    <option value="1:1">Vu√¥ng (1:1)</option>
                                    <option value="3:4">D·ªçc (3:4)</option>
                                    <option value="4:3">Ngang (4:3)</option>
                                    <option value="9:16">D·ªçc d√†i (9:16)</option>
                                    <option value="16:9">Ngang r·ªông (16:9)</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="numberOfPrompts">S·ªë l∆∞·ª£ng m√¥ t·∫£:</label>
                                <select id="numberOfPrompts">
                                    <option value="1">1 m√¥ t·∫£</option>
                                    <option value="2">2 m√¥ t·∫£</option>
                                    <option value="3" selected>3 m√¥ t·∫£</option>
                                    <option value="5">5 m√¥ t·∫£</option>
                                </select>
                            </div>
                        </div>

                        <div class="config-item">
                            <label for="advancedApiKey">API Key Gemini:</label>
                            <div class="api-key-advanced">
                                <input 
                                    type="password" 
                                    id="advancedApiKey" 
                                    placeholder="Nh·∫≠p ho·∫∑c thay ƒë·ªïi API key..."
                                    autocomplete="off"
                                >
                                <div class="api-key-controls">
                                    <button type="button" id="showApiKey" class="control-btn">üëÅÔ∏è Hi·ªán</button>
                                    <button type="button" id="saveAdvancedApiKey" class="control-btn">üíæ L∆∞u</button>
                                    <button type="button" id="clearApiKey" class="control-btn danger">üóëÔ∏è X√≥a</button>
                                </div>
                            </div>
                            <small>L·∫•y API key mi·ªÖn ph√≠ t·∫°i <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a></small>
                        </div>

                        <div class="config-item">
                            <label for="modelSelect">Model AI:</label>
                            <select id="modelSelect">
                                <optgroup label="üöÄ Gemini 2.5 (M·ªõi nh·∫•t)">
                                    <option value="gemini-2.5-flash">Gemini 2.5 Flash (C√¢n b·∫±ng t·ªët)</option>
                                    <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash-Lite (Si√™u nhanh)</option>
                                </optgroup>
                                <optgroup label="‚ö° Gemini 2.0">
                                    <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash (Th·ª≠ nghi·ªám)</option>
                                </optgroup>
                                <optgroup label="üìö Gemini 1.5">
                                    <option value="gemini-1.5-flash" selected>Gemini 1.5 Flash (Nhanh)</option>
                                    <option value="gemini-1.5-pro">Gemini 1.5 Pro (Ch·∫•t l∆∞·ª£ng cao)</option>
                                </optgroup>
                                <optgroup label="üîß Gemini 1.0">
                                    <option value="gemini-1.0-pro">Gemini 1.0 Pro</option>
                                </optgroup>
                            </select>
                        </div>

                        <div class="config-item">
                            <label for="negativePrompt">M√¥ t·∫£ lo·∫°i tr·ª´:</label>
                            <input 
                                type="text" 
                                id="negativePrompt" 
                                placeholder="Nh·ªØng g√¨ kh√¥ng mu·ªën xu·∫•t hi·ªán trong ·∫£nh..."
                            >
                        </div>
                        
                        <div class="config-item">
                            <label for="guidanceScale">ƒê·ªô tu√¢n th·ªß m√¥ t·∫£ (1-20):</label>
                            <div class="range-input">
                                <input 
                                    type="range" 
                                    id="guidanceScale" 
                                    min="1" 
                                    max="20" 
                                    value="7" 
                                    step="0.5"
                                >
                                <span id="guidanceValue">7</span>
                            </div>
                        </div>

                        <div class="config-item">
                            <label for="seed">Seed (ƒë·ªÉ t√°i t·∫°o):</label>
                            <input 
                                type="number" 
                                id="seed" 
                                placeholder="ƒê·ªÉ tr·ªëng cho ng·∫´u nhi√™n"
                            >
                        </div>

                        <div class="config-item">
                            <label for="customSystemPrompt">System Prompt t√πy ch·ªânh:</label>
                            <textarea 
                                id="customSystemPrompt" 
                                rows="4"
                                placeholder="Nh·∫≠p system prompt t√πy ch·ªânh ho·∫∑c ƒë·ªÉ tr·ªëng ƒë·ªÉ s·ª≠ d·ª•ng m·∫∑c ƒë·ªãnh..."
                            ></textarea>
                            <div class="prompt-controls">
                                <button type="button" id="showDefaultPromptBtn" class="control-btn">üìù Xem Prompt M·∫∑c ƒê·ªãnh</button>
                                <button type="button" id="useDefaultPromptBtn" class="control-btn">‚Ü©Ô∏è S·ª≠ D·ª•ng M·∫∑c ƒê·ªãnh</button>
                            </div>
                        </div>

                        <div class="config-item">
                            <div class="default-prompt-viewer" id="defaultPromptViewer" style="display: none;">
                                <label>Prompt m·∫∑c ƒë·ªãnh hi·ªán t·∫°i:</label>
                                <div class="default-prompt-content" id="defaultPromptContent"></div>
                                <button type="button" id="editDefaultPromptBtn" class="control-btn">‚úèÔ∏è Ch·ªânh S·ª≠a Prompt M·∫∑c ƒê·ªãnh</button>
                            </div>
                        </div>

                        <div class="config-item">
                            <label for="imageGenProvider">Provider t·∫°o ·∫£nh:</label>
                            <select id="imageGenProvider">
                                <option value="gemini">Gemini AI (T√≠ch h·ª£p s·∫µn)</option>
                                <option value="imagen3">Imagen 3 (Chuy√™n nghi·ªáp)</option>
                            </select>
                        </div>

                        <div class="config-item">
                            <label for="imageGenModel">Model cho t·∫°o ·∫£nh:</label>
                            <select id="imageGenModel">
                                <option value="gemini-1.5-pro">Gemini 1.5 Pro (T·ªët nh·∫•t)</option>
                                <option value="gemini-1.5-flash">Gemini 1.5 Flash (Nhanh)</option>
                                <option value="gemini-2.0-flash-preview-image-generation">Gemini 2.0 Flash (Image Gen)</option>
                                <option value="imagen-3.0-generate-002">Imagen 3 (Ch·∫•t l∆∞·ª£ng cao nh·∫•t)</option>
                                <option value="gemini-1.0-pro">Gemini 1.0 Pro (·ªîn ƒë·ªãnh)</option>
                            </select>
                        </div>

                        <div class="config-item">
                            <label for="imageGenStyle">Phong c√°ch m·∫∑c ƒë·ªãnh:</label>
                            <select id="imageGenStyle">
                                <option value="photorealistic">Photorealistic</option>
                                <option value="artistic">Artistic</option>
                                <option value="anime">Anime</option>
                                <option value="cartoon">Cartoon</option>
                                <option value="minimalist">Minimalist</option>
                                <option value="fantasy">Fantasy</option>
                            </select>
                        </div>

                        <div class="config-item">
                            <label for="imageGenQuality">Ch·∫•t l∆∞·ª£ng m·∫∑c ƒë·ªãnh:</label>
                            <select id="imageGenQuality">
                                <option value="high">Cao</option>
                                <option value="standard">Ti√™u chu·∫©n</option>
                                <option value="low">Th·∫•p</option>
                            </select>
                        </div>

                        <div class="config-item">
                            <label>
                                <input type="checkbox" id="autoGenerateImage" />
                                T·ª± ƒë·ªông t·∫°o ·∫£nh cho prompt ƒë·∫ßu ti√™n
                            </label>
                        </div>
                        
                        <div class="config-item">
                            <div class="settings-controls">
                                <button type="button" id="resetSettingsBtn" class="reset-btn">üîÑ Reset T·∫•t C·∫£ C√†i ƒê·∫∑t</button>
                                <button type="button" id="imageGenSettingsBtn" class="settings-btn">üé® C√†i ƒê·∫∑t T·∫°o H√¨nh ·∫¢nh</button>
                                <button type="button" id="testImageGenBtn" class="test-btn">üß™ Test T·∫°o ·∫¢nh</button>
                            </div>
                        </div>
                    </div>
                </details>
            </div>

            <div class="output-section">
                <div id="imageResults" class="results-container"></div>
            </div>
        </main>

        <!-- Video Generator Tab -->
        <main class="tab-content" id="videoTab">
            <div class="generator-header">
                <h2>üé¨ T·∫°o M√¥ T·∫£ Chi Ti·∫øt Cho Video</h2>
                <p>S·ª≠ d·ª•ng AI ƒë·ªÉ t·∫°o prompt chuy√™n nghi·ªáp cho Runway, Pika, Sora v√† c√°c c√¥ng c·ª• AI video</p>
            </div>

            <div class="input-section">
                <div class="prompt-section main-prompt">
                    <label for="videoPrompt" class="prompt-label">üé• M√¥ t·∫£ √Ω t∆∞·ªüng video c·ªßa b·∫°n</label>
                    <textarea 
                        id="videoPrompt" 
                        class="prompt-input"
                        placeholder="V√≠ d·ª•: M·ªôt con m√®o ƒëang ch·∫°y qua c√°nh ƒë·ªìng hoa, camera theo chuy·ªÉn ƒë·ªông t·ª´ xa ƒë·∫øn g·∫ßn..."
                        rows="4"
                    ></textarea>
                </div>

                <!-- Video Template Quick Select -->
                <div class="template-quick-select">
                    <label class="template-label">‚ö° M·∫´u nhanh - Ch·ªçn ƒë·ªÉ th√™m v√†o m√¥ t·∫£</label>
                    <div class="template-grid-compact">
                        <div class="template-chip" data-template="Static shot, locked camera">üì∏ C·∫£nh Tƒ©nh</div>
                        <div class="template-chip" data-template="Dolly in, camera slowly zooms in">üîç Zoom In</div>
                        <div class="template-chip" data-template="Camera pulls back, dolly out">üì§ Zoom Out</div>
                        <div class="template-chip" data-template="Camera pans to follow, tracking shot">‚ÜîÔ∏è Theo D√µi</div>
                        <div class="template-chip" data-template="character walking slowly">üö∂ ƒêi B·ªô</div>
                        <div class="template-chip" data-template="character running quickly">üèÉ Ch·∫°y</div>
                        <div class="template-chip" data-template="cinematic lighting, dramatic shadows">üåë √Ånh S√°ng</div>
                        <div class="template-chip" data-template="smooth camera movement">üìπ M∆∞·ª£t</div>
                    </div>
                </div>

                <div class="style-selection">
                    <label class="style-label">üé¨ Ch·ªçn phong c√°ch video</label>
                    <div class="style-grid">
                        <div class="style-option" data-style="cinematic">
                            <div class="style-icon">üé¨</div>
                            <span>Cinematic</span>
                        </div>
                        <div class="style-option" data-style="documentary">
                            <div class="style-icon">üìπ</div>
                            <span>Documentary</span>
                        </div>
                        <div class="style-option" data-style="anime">
                            <div class="style-icon">üáØüáµ</div>
                            <span>Anime</span>
                        </div>
                        <div class="style-option" data-style="commercial">
                            <div class="style-icon">üíº</div>
                            <span>Commercial</span>
                        </div>
                        <div class="style-option" data-style="artistic">
                            <div class="style-icon">üé®</div>
                            <span>Artistic</span>
                        </div>
                        <div class="style-option" data-style="realistic">
                            <div class="style-icon">üì∑</div>
                            <span>Realistic</span>
                        </div>
                    </div>
                    <input type="hidden" id="videoStyle" value="cinematic">
                </div>

                <button id="generateVideoBtn" class="generate-btn primary">
                    <span class="btn-icon">üé¨</span>
                    <span class="btn-text">T·∫°o M√¥ T·∫£ Video</span>
                    <span class="btn-loading" style="display: none;">
                        <span class="spinner"></span>
                        ƒêang t·∫°o...
                    </span>
                </button>

                <!-- Advanced Settings for Videos -->
                <details class="advanced-settings">
                    <summary>‚öôÔ∏è C√†i ƒë·∫∑t n√¢ng cao cho video</summary>
                    <div class="advanced-content">
                        <div class="config-grid">
                            <div class="config-item">
                                <label for="videoAdvancedApiKey">API Key Gemini:</label>
                                <div class="api-key-advanced">
                                    <input 
                                        type="password" 
                                        id="videoAdvancedApiKey" 
                                        placeholder="Nh·∫≠p ho·∫∑c thay ƒë·ªïi API key..."
                                        autocomplete="off"
                                    >
                                    <div class="api-key-controls">
                                        <button type="button" id="showVideoApiKey" class="control-btn">üëÅÔ∏è Hi·ªán</button>
                                        <button type="button" id="saveVideoApiKey" class="control-btn">üíæ L∆∞u</button>
                                        <button type="button" id="clearVideoApiKey" class="control-btn danger">üóëÔ∏è X√≥a</button>
                                    </div>
                                </div>
                                <small>API key s·∫Ω ƒë∆∞·ª£c chia s·∫ª gi·ªØa c·∫£ Image v√† Video</small>
                            </div>

                            <div class="config-item">
                                <label for="videoDetailLevel">M·ª©c ƒë·ªô chi ti·∫øt:</label>
                                <select id="videoDetailLevel">
                                    <option value="basic">C∆° b·∫£n</option>
                                    <option value="detailed" selected>Chi ti·∫øt</option>
                                    <option value="very-detailed">R·∫•t chi ti·∫øt</option>
                                    <option value="professional">Chuy√™n nghi·ªáp</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="videoAspectRatio">T·ª∑ l·ªá khung h√¨nh:</label>
                                <select id="videoAspectRatio">
                                    <option value="16:9">Ngang r·ªông (16:9)</option>
                                    <option value="9:16">D·ªçc d√†i (9:16)</option>
                                    <option value="1:1">Vu√¥ng (1:1)</option>
                                    <option value="4:3">Ngang (4:3)</option>
                                    <option value="21:9">Ultra wide (21:9)</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="videoLength">ƒê·ªô d√†i video:</label>
                                <select id="videoLength">
                                    <option value="short">Ng·∫Øn (1-3s)</option>
                                    <option value="medium" selected>Trung b√¨nh (3-10s)</option>
                                    <option value="long">D√†i (10-30s)</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="numberOfVideoPrompts">S·ªë l∆∞·ª£ng m√¥ t·∫£:</label>
                                <select id="numberOfVideoPrompts">
                                    <option value="1">1 m√¥ t·∫£</option>
                                    <option value="2">2 m√¥ t·∫£</option>
                                    <option value="3" selected>3 m√¥ t·∫£</option>
                                    <option value="5">5 m√¥ t·∫£</option>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="videoModelSelect">Model AI cho Video:</label>
                                <select id="videoModelSelect">
                                    <optgroup label="üöÄ Gemini 2.5 (M·ªõi nh·∫•t)">
                                        <option value="gemini-2.5-flash">Gemini 2.5 Flash (C√¢n b·∫±ng t·ªët)</option>
                                        <option value="gemini-2.5-flash-lite">Gemini 2.5 Flash-Lite (Si√™u nhanh)</option>
                                    </optgroup>
                                    <optgroup label="‚ö° Gemini 2.0">
                                        <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash (Th·ª≠ nghi·ªám)</option>
                                    </optgroup>
                                    <optgroup label="üìö Gemini 1.5">
                                        <option value="gemini-1.5-flash" selected>Gemini 1.5 Flash (Nhanh)</option>
                                        <option value="gemini-1.5-pro">Gemini 1.5 Pro (Ch·∫•t l∆∞·ª£ng cao)</option>
                                    </optgroup>
                                    <optgroup label="üîß Gemini 1.0">
                                        <option value="gemini-1.0-pro">Gemini 1.0 Pro</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="config-item">
                                <label for="videoCustomSystemPrompt">System Prompt t√πy ch·ªânh cho Video:</label>
                                <textarea 
                                    id="videoCustomSystemPrompt" 
                                    rows="4"
                                    placeholder="Nh·∫≠p system prompt t√πy ch·ªânh ho·∫∑c ƒë·ªÉ tr·ªëng ƒë·ªÉ s·ª≠ d·ª•ng m·∫∑c ƒë·ªãnh..."
                                ></textarea>
                                <div class="prompt-controls">
                                    <button type="button" id="showVideoDefaultPromptBtn" class="control-btn">üìù Xem Prompt M·∫∑c ƒê·ªãnh</button>
                                    <button type="button" id="useVideoDefaultPromptBtn" class="control-btn">‚Ü©Ô∏è S·ª≠ D·ª•ng M·∫∑c ƒê·ªãnh</button>
                                    <button type="button" id="editVideoDefaultPromptBtn" class="control-btn">‚úèÔ∏è Ch·ªânh S·ª≠a Prompt M·∫∑c ƒê·ªãnh</button>
                                </div>
                            </div>

                            <div class="config-item">
                                <div class="default-prompt-viewer" id="videoDefaultPromptViewer" style="display: none;">
                                    <label>Video prompt m·∫∑c ƒë·ªãnh hi·ªán t·∫°i:</label>
                                    <div class="default-prompt-content" id="videoDefaultPromptContent"></div>
                                    <button type="button" id="editVideoPromptBtn" class="control-btn">‚úèÔ∏è Ch·ªânh S·ª≠a Video Prompt M·∫∑c ƒê·ªãnh</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </details>
            </div>

            <div class="output-section">
                <div id="videoResults" class="results-container"></div>
            </div>
        </main>

        <!-- Global Components -->
        <div id="statusContainer" class="status-container">
            <div id="errorMessage" class="error-message" style="display: none;"></div>
            <div id="loadingMessage" class="loading-message" style="display: none;">
                <div class="loading-animation">
                    <div class="loading-spinner"></div>
                    <p>ƒêang t·∫°o m√¥ t·∫£ chi ti·∫øt... Vui l√≤ng ƒë·ª£i</p>
                </div>
            </div>
        </div>

        <!-- History Sidebar -->
        <aside class="history-sidebar" id="historySidebar">
            <div class="history-header">
                <h3>üìö L·ªãch s·ª≠</h3>
                <button class="history-toggle" id="historyToggle">‚úï</button>
            </div>
            <div class="history-content" id="historyContent">
                <p class="history-empty">Ch∆∞a c√≥ l·ªãch s·ª≠ n√†o</p>
            </div>
        </aside>

        <!-- History Toggle Button -->
        <button class="history-btn" id="historyBtn" title="Xem l·ªãch s·ª≠">
            üìö
        </button>

        <footer>
            <p>ƒê∆∞·ª£c ph√°t tri·ªÉn v·ªõi ‚ù§Ô∏è s·ª≠ d·ª•ng Google Gemini API</p>
        </footer>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
